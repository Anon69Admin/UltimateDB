<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Faxal DB — SIM Information Tool</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<style>
  /* CRT hacker green theme — flat glow like your screenshot */
  :root{
    --bg:#000;
    --panel:#031006;
    --green:#00ff2a;
    --muted-green: rgba(0,255,42,0.12);
    --text:#b6ffb6;
    --accent:#00c11f;
    --red:#ff4b4b;
    --glass: rgba(0,10,0,0.55);
  }
  html,body{height:100%;margin:0;font-family: "Courier New", Courier, monospace;background:linear-gradient(#000, #020200 160%);color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:860px;margin:18px auto;padding:18px;border-radius:10px;background:transparent}
  .header{border-radius:10px;padding:18px;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.3));box-shadow:0 0 28px rgba(0,255,42,0.06) inset;border:1px solid rgba(0,255,42,0.06)}
  .title{font-size:34px;color:var(--green);letter-spacing:2px;text-align:center;margin:0;text-shadow:0 0 8px rgba(0,255,42,0.18)}
  .subtitle{font-size:11px;color:var(--green);text-align:center;margin-top:6px;opacity:0.9}
  .top-controls{display:flex;justify-content:space-between;align-items:center;margin-top:14px}
  .dark-btn{background:transparent;border:1px solid rgba(0,255,42,0.12);padding:8px 12px;border-radius:6px;color:var(--green);cursor:pointer}
  /* main panel */
  .panel{margin-top:18px;padding:20px;background:linear-gradient(180deg, rgba(0,15,0,0.18), rgba(0,0,0,0.25));border-radius:12px;border:1px solid rgba(0,255,42,0.06);box-shadow:0 8px 60px rgba(0,255,42,0.02) inset}
  .section-title{font-size:18px;color:var(--green);text-align:center;letter-spacing:1px;margin-bottom:12px}
  .options{display:flex;gap:12px;justify-content:center;margin-bottom:12px;flex-wrap:wrap}
  .option{background:linear-gradient(90deg, rgba(0,255,42,0.06), rgba(0,0,0,0.02));border:1px solid rgba(0,255,42,0.12);padding:10px 18px;border-radius:8px;color:var(--green);cursor:pointer;min-width:180px;text-align:center}
  .option.active{background:linear-gradient(90deg, rgba(0,255,42,0.12), rgba(0,0,0,0.02));box-shadow:0 6px 20px rgba(0,255,42,0.06)}
  .search-row{display:flex;gap:10px;align-items:center;justify-content:center;margin-bottom:12px;flex-wrap:wrap}
  .input{background:#041207;border:1px solid rgba(0,255,42,0.06);color:var(--green);padding:12px 14px;border-radius:6px;min-width:320px;outline:none}
  .btn{background:linear-gradient(90deg,var(--accent),#00ff6f);border:none;padding:12px 16px;border-radius:6px;color:#001104;font-weight:700;cursor:pointer;box-shadow:0 10px 30px rgba(0,255,42,0.04)}
  /* big output box */
  .output{height:170px;background:#060a05;border-radius:8px;border:1px solid rgba(0,255,42,0.06);padding:16px;margin-top:10px;color:var(--green);overflow:auto;white-space:pre-wrap}
  .awaiting{color:var(--red);text-align:center;font-weight:700;letter-spacing:2px}
  .small-muted{text-align:center;color:rgba(0,255,42,0.4);font-size:12px;margin-top:10px}
  /* results rows (CRT style) */
  .res-row{display:flex;justify-content:space-between;padding:8px 10px;border-top:1px dashed rgba(0,255,42,0.03)}
  .res-key{color:var(--green);font-weight:700}
  .res-val{color:var(--text)}
  /* family members list */
  .members{margin-top:8px;border-top:1px dashed rgba(0,255,42,0.03);padding-top:8px}
  .member-item{padding:6px 0;border-bottom:1px solid rgba(0,255,42,0.02)}
  /* progress bar (thin) */
  .progress-wrap{margin-top:12px;height:8px;background:rgba(0,255,42,0.03);border-radius:6px;overflow:hidden;border:1px solid rgba(0,255,42,0.04)}
  .progress-bar{height:100%;width:0;background:linear-gradient(90deg, rgba(0,255,42,0.18), rgba(0,255,42,0.5));transition:width 200ms linear}
  /* footer credit */
  .credit-wrap{display:flex;justify-content:center;margin-top:12px}
  .credit{background:linear-gradient(90deg, rgba(0,255,42,0.06), rgba(0,0,0,0.02));border:1px solid rgba(0,255,42,0.08);padding:10px 18px;border-radius:8px;color:var(--green);cursor:pointer;box-shadow:0 8px 16px rgba(0,255,42,0.02)}
  /* phone-friendly */
  @media (max-width:560px){
    .input{min-width:200px}
    .option{min-width:140px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
        <div style="flex:1">
          <div class="title">Faxal DB</div>
          <div class="subtitle">SECURE INFORMATION RETRIEVAL SYSTEM</div>
        </div>
        <div style="text-align:right">
          <button id="toggleDark" class="dark-btn"><i class="fas fa-circle-half-stroke"></i> DARK MODE</button>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="section-title">SIM INFORMATION TOOL</div>

      <div class="options">
        <div id="phoneOpt" class="option active"><i class="fas fa-phone"></i> SEARCH BY PHONE</div>
        <div id="cnicOpt" class="option"><i class="fas fa-id-card"></i> SEARCH BY CNIC</div>
        <div id="aadhaarOpt" class="option"><i class="fas fa-id-badge"></i> SEARCH BY AADHAAR (IN)</div>
        <div id="indiaOpt" class="option"><i class="fas fa-mobile"></i> SEARCH BY INDIAN PHONE</div>
      </div>

      <div class="search-row">
        <input id="inputField" class="input" placeholder="ENTER 11-DIGIT PHONE NUMBER" maxlength="11">
        <button id="scanBtn" class="btn"><i class="fas fa-magnifying-glass"></i> INITIATE SCAN</button>
      </div>

      <div id="output" class="output">
        <div class="awaiting">AWAITING INPUT... READY TO SCAN</div>
      </div>

      <div class="progress-wrap" id="progressWrap" style="display:none">
        <div id="progressBar" class="progress-bar"></div>
      </div>

      <div class="small-muted">SYSTEM CREATED BY FAZAL-E-AZEEM</div>

      <div class="credit-wrap">
        <!-- placeholder link; change href locally to your Telegram if desired -->
        <a id="creditBtn" class="credit" href="#" title="Credit">Contact LuciferSec</a>
      </div>
    </div>
  </div>

<script>
/* APIs configured */
const DEFAULT_API_TEMPLATE = 'https://fam-official.serv00.net/api/database.php?number={number}';
const AADHAAR_API_TEMPLATE = 'https://khandankanaam.alphaapi.workers.dev/fetch?key=paidchx&aadhaar={number}';
const INDIA_PHONE_API_TEMPLATE = 'https://calltracerinfoapi.vercel.app/api?number={number}';

/* UI refs */
const phoneOpt = document.getElementById('phoneOpt');
const cnicOpt = document.getElementById('cnicOpt');
const aadhaarOpt = document.getElementById('aadhaarOpt');
const indiaOpt = document.getElementById('indiaOpt');
const inputField = document.getElementById('inputField');
const scanBtn = document.getElementById('scanBtn');
const output = document.getElementById('output');
const progressWrap = document.getElementById('progressWrap');
const progressBar = document.getElementById('progressBar');
const creditBtn = document.getElementById('creditBtn');

let searchType = 'phone'; // phone | cnic | aadhaar | indiaPhone
let progressInterval = null;

/* option handlers */
function clearActive(){
  [phoneOpt,cnicOpt,aadhaarOpt,indiaOpt].forEach(o=>o.classList.remove('active'));
}
phoneOpt.addEventListener('click',()=>{
  clearActive(); phoneOpt.classList.add('active'); searchType='phone';
  inputField.placeholder='ENTER 11-DIGIT PHONE NUMBER'; inputField.maxLength=11; inputField.value=''; showAwaiting();
});
cnicOpt.addEventListener('click',()=>{
  clearActive(); cnicOpt.classList.add('active'); searchType='cnic';
  inputField.placeholder='ENTER 13-DIGIT CNIC NUMBER'; inputField.maxLength=13; inputField.value=''; showAwaiting();
});
aadhaarOpt.addEventListener('click',()=>{
  clearActive(); aadhaarOpt.classList.add('active'); searchType='aadhaar';
  inputField.placeholder='ENTER 12-DIGIT AADHAAR NUMBER'; inputField.maxLength=12; inputField.value=''; showAwaiting();
});
indiaOpt.addEventListener('click',()=>{
  clearActive(); indiaOpt.classList.add('active'); searchType='indiaPhone';
  inputField.placeholder='ENTER 10-DIGIT INDIAN PHONE NUMBER'; inputField.maxLength=10; inputField.value=''; showAwaiting();
});

/* awaiting */
function showAwaiting(){
  output.innerHTML = '<div class="awaiting">AWAITING INPUT... READY TO SCAN</div>';
}

/* progress sim */
function startProgress(){
  progressWrap.style.display='block';
  progressBar.style.width='4%';
  let pct=4;
  clearInterval(progressInterval);
  progressInterval = setInterval(()=>{
    const add = Math.random()*8 + (pct < 60 ? 6 : 1.8);
    pct = Math.min(92, Math.round(pct + add));
    progressBar.style.width = pct + '%';
  }, 420);
}
function endProgress(){
  clearInterval(progressInterval);
  progressBar.style.width = '100%';
  setTimeout(()=>{ progressWrap.style.display='none'; progressBar.style.width='0%'; }, 500);
}

/* fetch + display */
scanBtn.addEventListener('click', doSearch);
inputField.addEventListener('keypress', (e)=>{ if(e.key==='Enter') doSearch(); });

function buildUrl(template, number){
  return template.replace('{number}', encodeURIComponent(number));
}

function doSearch(){
  const val = inputField.value.trim();
  if(!val){ showOutputError('PLEASE ENTER A VALUE'); return; }
  if(!/^\d+$/.test(val)){ showOutputError('INVALID INPUT — DIGITS ONLY'); return; }
  if(searchType==='phone' && val.length!==11){ showOutputError('PHONE MUST BE 11 DIGITS'); return; }
  if(searchType==='cnic' && val.length!==13){ showOutputError('CNIC MUST BE 13 DIGITS'); return; }
  if(searchType==='aadhaar' && val.length!==12){ showOutputError('AADHAAR MUST BE 12 DIGITS'); return; }
  if(searchType==='indiaPhone' && val.length!==10){ showOutputError('INDIAN PHONE MUST BE 10 DIGITS'); return; }

  // start
  startProgress();
  output.innerHTML = '<div class="awaiting" style="color:var(--accent)">SCANNING DATABASE... PLEASE WAIT</div>';

  let url;
  if(searchType==='aadhaar') url = buildUrl(AADHAAR_API_TEMPLATE, val);
  else if(searchType==='indiaPhone') url = buildUrl(INDIA_PHONE_API_TEMPLATE, val);
  else url = buildUrl(DEFAULT_API_TEMPLATE, val);

  fetch(url).then(r=>{
    if(!r.ok) throw new Error('NETWORK');
    return r.json();
  }).then(data=>{
    endProgress();
    handleData(data);
  }).catch(err=>{
    // try proxy fallback
    console.warn('Direct fetch fail, trying proxy', err);
    const proxy = 'https://api.allorigins.win/raw?url=' + encodeURIComponent(url);
    fetch(proxy).then(r=>{
      if(!r.ok) throw new Error('PROXY_FAIL');
      return r.json();
    }).then(data=>{
      endProgress();
      handleData(data);
    }).catch(e=>{
      endProgress();
      showOutputError('DATABASE CONNECTION FAILED. TRY AGAIN');
      console.error(e);
    });
  });
}

/* display helpers */
function showOutputError(msg){
  progressWrap.style.display='none';
  output.innerHTML = '<div class="awaiting" style="color:var(--red)">'+msg+'</div>';
}
function handleData(data){
  // Aadhaar household
  if(data && data.homeStateName && Array.isArray(data.memberDetailsList)){
    displayAadhaar(data);
    return;
  }
  // Call tracer style
  if(data && (data['Owner Name'] || data['SIM card'] || data['Mobile State'])){
    displayCallTracer(data);
    return;
  }
  // default shapes
  if(data && data.success && data.data){
    const d = Array.isArray(data.data) && data.data.length ? data.data[0] : data.data;
    displayGeneric(d);
    return;
  }
  if(data && (data.name || data.number || data.phone || data.cnic)){
    displayGeneric(data);
    return;
  }
  // fallback raw JSON
  output.innerHTML = '<pre style="color:var(--green);font-size:13px">'+JSON.stringify(data, null, 2)+'</pre>';
}

/* renderers */
function displayAadhaar(obj){
  const state = obj.homeStateName || 'N/A';
  const dist = obj.homeDistName || 'N/A';
  const scheme = obj.schemeName || 'N/A';
  const rcId = obj.rcId || 'N/A';
  const addr = obj.address || 'Not Provided';
  const members = Array.isArray(obj.memberDetailsList) ? obj.memberDetailsList : [];

  let html = '';
  html += `<div class="res-row"><div class="res-key">STATE</div><div class="res-val">${state}</div></div>`;
  html += `<div class="res-row"><div class="res-key">DISTRICT</div><div class="res-val">${dist}</div></div>`;
  html += `<div class="res-row"><div class="res-key">SCHEME</div><div class="res-val">${scheme}</div></div>`;
  html += `<div class="res-row"><div class="res-key">RC ID</div><div class="res-val">${rcId}</div></div>`;
  html += `<div class="res-row"><div class="res-key">ADDRESS</div><div class="res-val">${addr}</div></div>`;

  html += `<div class="members"><div style="color:var(--green);font-weight:700;padding:6px 0">FAMILY MEMBERS</div>`;
  members.forEach((m,idx)=>{
    html += `<div class="member-item"><div style="color:var(--green)"><strong>#${idx+1}</strong> ${m.memberName||'N/A'}</div><div style="color:var(--text);font-size:13px">Relation: ${m.releationship_name||'N/A'} | UID: ${m.uid||'N/A'}</div></div>`;
  });
  html += '</div>';

  output.innerHTML = html;
}

function displayCallTracer(obj){
  const keys = [
    'Owner Name','Number','Owner Address','Mobile State','Hometown','SIM card','Connection',
    'IMEI number','IP address','MAC address','Tower Locations','Mobile Locations','Reference City',
    'Owner Personality','Language','Complaints','Tracking History'
  ];
  let html = '';
  keys.forEach(k=>{
    const val = obj[k] || 'N/A';
    html += `<div class="res-row"><div class="res-key">${k.toUpperCase()}</div><div class="res-val">${val}</div></div>`;
  });
  output.innerHTML = html;
}

function displayGeneric(u){
  const name = u.name || u.fullName || u.holder_name || 'N/A';
  const number = u.number || u.phone || u.mobile || 'N/A';
  const idv = u.cnic || u.id || u.aadhaar || 'N/A';
  const addr = u.address || u.location || 'N/A';

  let html = '';
  html += `<div class="res-row"><div class="res-key">NAME</div><div class="res-val">${name}</div></div>`;
  html += `<div class="res-row"><div class="res-key">NUMBER</div><div class="res-val">${number}</div></div>`;
  html += `<div class="res-row"><div class="res-key">ID</div><div class="res-val">${idv}</div></div>`;
  html += `<div class="res-row"><div class="res-key">ADDRESS</div><div class="res-val">${addr}</div></div>`;

  output.innerHTML = html;
}

/* small credit click behavior (placeholder) */
creditBtn.addEventListener('click', function(e){
  e.preventDefault();
  // Local hint toast
  const t = document.createElement('div');
  t.style.cssText = 'position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:#001100;padding:10px 14px;border-radius:6px;color:var(--green);border:1px solid rgba(0,255,42,0.06);z-index:9999';
  t.textContent = 'Edit the credit link in this HTML locally to redirect to your Telegram.';
  document.body.appendChild(t);
  setTimeout(()=>t.remove(),3200);
});

/* toggle dark (just visual) */
document.getElementById('toggleDark').addEventListener('click', ()=> {
  // purely cosmetic; keeps CRT look
  document.body.classList.toggle('invert-mode');
});

/* on load */
showAwaiting();
</script>
</body>
</html>
